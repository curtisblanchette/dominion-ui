<div class="page-heading">
  <h2 class="page-heading__title">Reports/Total Pipeline</h2>
  <div class="page-heading__filters">
      <fiiz-date-picker
        [selectMode]="'range'"
        [pickerType]="'calendar'"
        [id]="'filter_date_range'"
        [label]="'DATE RANGE'"
        [max]="today"
        [reporting]="true"
        [report]="'total-pipeline'"
        [placeholder]="'Select a Date Range'"
      ></fiiz-date-picker>
  </div>
</div>
<div class="total-pipeline__wrapper">
  <div class="total-pipeline__reports" *ngIf="(status$ | async) === 'success'">

    <nav class="pipeline-nav">
      <section class="pipeline-nav__section grid-2" style="flex:0.4; margin-right: 20px;">
        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Qual. Leads</div>
          <div class="pipeline-nav__item__metric fluid-heading" [countUp]="( in$ | async ).leads"></div>
          <div class="pipeline-nav__item__caption">&nbsp;</div>
        </div>

        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Sets</div>
          <div class="pipeline-nav__item__metric fluid-heading" [countUp]="( in$ | async ).sets"></div>
          <div class="pipeline-nav__item__caption">Set Rate 52%</div>
        </div>
      </section>

      <section class="pipeline-nav__section grid-3" style="flex:0.6">
        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Total Appts.</div>
          <div class="pipeline-nav__item__metric fluid-heading" [countUp]="( in$ | async ).totalAppointments"></div>
          <div class="pipeline-nav__item__caption">&nbsp;</div>
        </div>

        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Qual Shows</div>
          <div class="pipeline-nav__item__metric">
            <span class="fluid-heading" [countUp]="( in$ | async ).qualifiedShows"></span>
            <span class="pipeline-nav__item__metric__goal">/{{( in$ | async ).shows}}</span>
          </div>
          <div class="pipeline-nav__item__caption">Show Rate 52%</div>
        </div>

        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Hires</div>
          <div class="pipeline-nav__item__metric fluid-heading" [countUp]="( in$ | async ).hires"></div>
          <div class="pipeline-nav__item__caption">Hire Rate 60%</div>
        </div>
      </section>

    </nav>

    <h4>Out of Pipeline</h4>

    <nav class="pipeline-nav">
      <section class="pipeline-nav__section grid-2" style="flex:0.4; margin-right: 20px;">
        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Answers</div>
          <div class="pipeline-nav__item__metric fluid-heading" [countUp]="( out$ | async ).answers"></div>
          <div class="pipeline-nav__item__caption">&nbsp;</div>
        </div>

        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Sets</div>
          <div class="pipeline-nav__item__metric fluid-heading" [countUp]="( out$ | async ).sets"></div>
          <div class="pipeline-nav__item__caption">Set Rate {{( out$ | async ).setRate}}%</div>
        </div>
      </section>

      <section class="pipeline-nav__section grid-3" style="flex:0.6">
        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Total Appts.</div>
          <div class="pipeline-nav__item__metric fluid-heading">
            <span class="fluid-heading" [countUp]="( out$ | async ).totalAppointments"></span>
            <span class="pipeline-nav__item__metric__goal">/51</span>
          </div>
          <div class="pipeline-nav__item__caption">&nbsp;</div>
        </div>

        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Qual Shows</div>
          <div class="pipeline-nav__item__metric">
            <span class="fluid-heading" [countUp]="( out$ | async ).qualifiedShows"></span>
            <span class="pipeline-nav__item__metric__goal">/{{( out$ | async ).sets}}</span>
          </div>
          <div class="pipeline-nav__item__caption">Show Rate {{( out$ | async ).showRate}}%</div>
        </div>

        <div class="pipeline-nav__item">
          <div class="pipeline-nav__item__title">Hires</div>
          <div class="pipeline-nav__item__metric fluid-heading" [countUp]="( out$ | async ).hires"></div>
          <div class="pipeline-nav__item__caption">Hire Rate {{( out$ | async ).hireRate}}%</div>
        </div>
      </section>
    </nav>


    <fiiz-grid [cols]="11" class="table">
      <div class="table-heading">Age</div>
      <div class="table-heading">Dials</div>
      <div class="table-heading">Answers</div>
      <div class="table-heading">Sets</div>
      <div class="table-heading">Set Rate</div>
      <div class="table-heading">Total Appts.</div>
      <div class="table-heading">Shows</div>
      <div class="table-heading">Qual. Shows</div>
      <div class="table-heading">Show Rate</div>
      <div class="table-heading">Hires</div>
      <div class="table-heading">Hire Rate</div>

      <div *ngFor="let cell of grid$ | async">{{cell}}</div>
    </fiiz-grid>

  </div>
</div>
