<div class="flex_main_wrapper">

  <div class="flex_main_wrapper__header">
    <div class="flex_main_wrapper__header__title">
      Set Appointment
    </div>
    <div class="flex_main_wrapper__form">
      <form [formGroup]="form" *ngIf="form" >
        <div>
          <input type="checkbox" formControlName="set_appointment" /> Set Appointment
        </div>
        <div *ngIf="showSlots">
          <label for="office">Location</label>
          <fiiz-select #dropdown [module]="moduleType.OFFICE" [remote]="true" [id]="'office'" [label]="'Office'"></fiiz-select>
        </div>
        <div *ngIf="showSlots">
          <label for="event_title">Event Title</label>
          <fiiz-input
            id="event_title"
            type="text"
            formControlName="event_title"
            placeholder="Event Title"
          >
          </fiiz-input>
        </div>
        <div *ngIf="showSlots">
          <label for="event_desc">Event Description</label>
          <fiiz-textarea [formControlName]="'event_desc'" placeholder="Add notes..." [height]="'100px'" ></fiiz-textarea>
        </div>
      </form>
    </div>
    <div class="flex_main_wrapper__header__sub_title" *ngIf="showSlots">
      "We have availability at our office as soon as..."
    </div>
  </div>

  <ng-container *ngIf="!showSlots">
    <div>
      <form [formGroup]="objectionForm" >
        <fiiz-select
          [id]="'appt_objection'"
          [label]="'Objection Reason'"
          [formControlName]="'appt_objection'"
          [items]="objections$"
        >
        </fiiz-select>
      </form>
    </div>
  </ng-container>

  <ng-container *ngIf="showSlots">
    <div *ngFor="let slot of timeSlots">
      <div class="flex_main_wrapper__slots" *ngFor="let item of slot | keyvalue">
        <div class="flex_main_wrapper__slots__day">
          {{ item.key }}
        </div>
        <div class="flex_main_wrapper__slots__time">
          <div *ngFor="let time of item.value;">
            <button [id]="item.key+', '+time" [ngClass]="{'active' : selectedBtnId === item.key+', '+time}" #slotBtn class="btn_time_slots" (click)="setEventTime($event)" >{{ time }}</button>
          </div>
        </div>
      </div>
    </div>

    <div class="info">
      "May I have a good email address for you and I will send you a confirmation of your appointment, it will also include driving directions to our office."
    </div>
  </ng-container>

</div>
