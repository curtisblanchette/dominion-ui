<div class="page-heading">
  <h2 class="page-heading__title">Workspace Settings</h2>   
  
  <section class="settings-section">
    
    <div class="settings-section__header">
      <h3>General Settings</h3>
    </div>

    <div class="settings-section__form">
      <form [formGroup]="generalForm" (ngSubmit)="updateData('general')">
        <ng-container *ngFor="let setting of generalSettings$ | async | keyvalue">
          <div class="settings-section__fields">
            <strong>{{getSettingDisplayName(setting.key)}}:</strong> 
            <fiiz-input
              type="text"
              id="{{setting.key}}"
              formControlName="{{setting.key}}"
              placeholder="{{getSettingDisplayName(setting.key)}}"
            >
            </fiiz-input> 
          </div>
        </ng-container>
        <div class="form-controls">
          <fiiz-button [loading]="loading$" [disabled]="(loading$|async) || generalForm.invalid" primary class="full-width" type="submit">Update General Settings</fiiz-button>
        </div>
      </form>
    </div>

  </section>

  <section class="settings-section">

    <div class="settings-section__header">
      <h3>Appointment Settings</h3>
    </div>

    <div class="settings-section__form">
      <form [formGroup]="apptForm" (ngSubmit)="updateData('appt')">
        <ng-container *ngFor="let setting of appointmentSettings$ | async | keyvalue">
          <strong>{{getSettingDisplayName(setting.key)}}:</strong>
          <div class="settings-section__div">
            <fiiz-input
              style="flex : 2; padding-right: 20px;"
              type="number"
              [id]="setting.key"
              [formControlName]="'appt['+setting.value.id+']['+setting.key+'][value]'"
              [placeholder]="getSettingDisplayName(setting.key)"
            ></fiiz-input>
            <fiiz-select
            style="flex : 2;"
              [items]="units$"
              [id]="'unit_'+setting.key"
              [options]="{remote: false}"
              [formControlName]="'appt['+setting.value.id+']['+setting.key+'][unit]'"
            ></fiiz-select>
          </div>
        </ng-container>
        <div class="form-controls">
          <fiiz-button [loading]="loading$" [disabled]="(loading$|async) || apptForm.invalid" primary class="full-width" type="submit">Update Appointment Settings</fiiz-button>
        </div>
      </form>
    </div>

  </section>
  

</div>

