<ng-container [ngTemplateOutlet]="(loading$ | async) ? loading : main"
              [ngTemplateOutletContext]="{loadingText: 'Loading...'}"></ng-container>

<ng-template #main>
  <div *ngIf="data$ | async as data">
    <h3>{{state.title}}</h3>
    <form [formGroup]="form" (ngSubmit)="saveData()">
      <fiiz-input *ngFor="let control of getFormControls()" [type]="control.type" [label]="control" [formControlName]="control"></fiiz-input>
      <input type="submit" class="primary" value="Create {{state.module}}">
    </form>


  </div>
</ng-template>

<ng-template #loading>Loading...</ng-template>
