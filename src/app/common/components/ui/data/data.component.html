<!--<h3>{{data.title}}</h3>-->
<form [formGroup]="form" *ngIf="form" (ngSubmit)="save()">

  <ng-container *ngFor="let control of controlData">
    <fiiz-input *ngIf="['text','tel','email'].includes(control.type)" [type]="control.type" [id]="control.key" [label]="control.label" [placeholder]="control.label" [formControlName]="control.key"></fiiz-input>
    <fiiz-date-picker *ngIf="['day', 'daytime'].includes(control.type)" [mode]="control.type" [label]="control.label" [formControlName]="control.key"></fiiz-date-picker>
    <fiiz-select *ngIf="control.type === 'dropdown'" #dropdown [module]="control.service" [remote]="true" [id]="control.key" [label]="control.label" [formControlName]="control.key"></fiiz-select>
    <fiiz-dropdown style="width: 100%;" *ngIf="control.type === 'dropdown-search'" type="search" [formControlName]="control.key" [id]="control.key" [label]="control.label" [title]="control.label" [module]="control.service" ></fiiz-dropdown>
  </ng-container>

  <div class="controls" *ngIf="options.controls">
    <fiiz-button (click)="navigation.back()" type="button" class="stroked">Back</fiiz-button>
    <fiiz-button #submit type="submit" primary [loading]="loadingSubject$" [disabled]="(loadingSubject$ | async) || form.invalid || form.pristine">{{submitText}}</fiiz-button>
  </div>

</form>
